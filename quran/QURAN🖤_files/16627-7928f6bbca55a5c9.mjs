"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[16627],{32346:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e){return("undefined"==typeof window||!Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame"))&&e&&e(),window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{e&&e()})})}},119936:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var i=n(667294),a=n(883119),r=n(32346),l=n(844683),o=n(140017),s=n(30378),d=n(5859),p=n(55202),u=n(217058),_=n(554786),c=n(239821),m=n(785893);let w=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}},f=()=>{if(document.body){let{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}};function h({accessibilityModalLabel:e,align:t="center",allowClickAndDrag:n,allowScroll:h=!1,children:y,closeOnOutsideClick:v=!0,footer:b,heading:g,isOpen:x,mobileAccessibilityCloseIconLabel:k,mobileHideCloseIcon:A,mobileIsFooter:P,mobileIsFullscreen:j,mobileIsSlideUp:S,onDismiss:Z,subHeading:I,type:z,zIndex:T}){let E=(0,o.ZP)(),{isRTL:L}=(0,d.B)(),C=(0,i.useRef)(!1),[O,R]=(0,i.useState)(!1),{setAppFocusState:M}=(0,c.I)(),F=(0,_.ZP)();return((0,i.useEffect)(()=>(C.current=(0,r.Z)(()=>{C.current&&R(!0)}),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&C.current&&(window.cancelAnimationFrame(C.current),C.current=null)}),[]),(0,i.useEffect)(()=>(x?(s.Z.pause(),M(!1),(0,u.My)(`mweb_unauth.mobile_modal.${z||"unknown_type"}.did_mount.is_open.true`)):(s.Z.resume(),M(!0)),()=>{x&&(s.Z.resume(),M(!0),(0,u.My)(`mweb_unauth.mobile_modal.${z||"unknown_type"}.did_mount.is_open.false`))}),[M,x]),(0,i.useEffect)(()=>{let e=x&&!h;return e&&w(),()=>{e&&f()}},[x,h]),x)?(0,m.jsx)(p.Z,{allowClickAndDrag:n,children:(0,m.jsx)(a.mh,{children:(0,m.jsxs)(a.xu,{"aria-label":e,display:"inlineBlock",position:"relative",role:"dialog",zIndex:T||l.ZM,children:[(0,m.jsx)(a.iP,{accessibilityLabel:E._('Mobile Signup Modal Mask', 'mweb.signup_modal.mask', 'The accessibility label for the mask of mobile signup modal'),dataTestId:"mobile-modal-mask-overlay",onTap:({event:e})=>{e.clientX&&e.clientY&&(0,u.tj)(`mweb_unauth.mobile_modal.wash_tap.${z||"unknown_type"}.with_dismissal`,{x:e.clientX,y:e.clientY}),v&&Z()},tapStyle:"none",children:(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}},height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new a.Ry(1)})}),(0,m.jsxs)(a.xu,{color:"default",dangerouslySetInlineStyle:S?(0,l.Vf)({isFullscreen:j,isTablet:"tablet"===F,isShowing:O,isRelatedInterestsModal:"related_interests_modal"===z}):(0,l.JN)({variant:j?"fullscreen":"tablet"===F?"tablet":P?"footer":"signup"===z?"signup":void 0}),"data-test-id":"mobile-signup-mask",position:"fixed",children:[(0,m.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",width:"100%",children:[k&&!A?(0,m.jsx)(a.xu,{"data-test-id":"mobile-modal-cancel-button",padding:2,children:(0,m.jsx)(a.hU,{accessibilityLabel:k,icon:"cancel",iconColor:"darkGray",onClick:Z,padding:4,size:"sm"})}):null,g?(0,m.jsx)(a.kC.Item,{flex:"grow",children:(0,m.jsx)(a.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,m.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:k&&!A?{marginRight:L?-10:50,marginLeft:L?50:-10}:{}},"data-test-id":"mobile-modal-heading",children:[j?g:(0,m.jsx)(a.xv,{align:t,size:"400",weight:"bold",children:g}),I?(0,m.jsx)(a.xv,{align:t,children:I}):null]})})}):null]}),(0,m.jsxs)(a.xu,{overflow:"auto",children:[y,b]})]})]})})}):null}},454514:(e,t,n)=>{n.d(t,{UZ:()=>d,Vg:()=>s,ZP:()=>p});var i=n(667294),a=n(883119),r=n(554786),l=n(494125),o=n(785893);let s=200,d=({deviceType:e,hiding:t,visible:n})=>{let i="desktop"===e,a=0,r=i?"translateY(200px)":"translateY(-200px)",l="opacity 0.1s ease-in-out",o="hidden";return n&&!t&&(a=1,r="translateY(0)",l="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",o="visible"),n&&t&&(r="scale(1.1)",l="opacity transform 0.2s"),{opacity:a,pointerEvents:"auto",position:"relative",marginTop:i?10:0,transform:r,transition:l,visibility:o}};function p({_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,text:n,primaryAction:p,dismissButton:u,helperLink:_,thumbnail:c,type:m,dataTestId:w,duration:f=2e3,onHide:h,href:y,onClick:v,openNewPage:b,imageUrl:g}){let x;let k=(0,r.ZP)(),[A,P]=(0,i.useState)(!1),[j,S]=(0,i.useState)(!1),Z=(0,i.useRef)(),I=()=>{P(!0),Z.current=setTimeout(h,s)},z=()=>{Z.current=setTimeout(I,f)},T=()=>{Z.current&&clearTimeout(Z.current)};(0,l.Z)(()=>(setTimeout(()=>S(!0),100),z(),T)),g&&(x={image:(0,o.jsx)(a.Ee,{alt:"string"==typeof n?n:`${n[0]} ${n[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:g})});let E=(0,o.jsx)(a.FN,{_dangerouslySetPrimaryAction:t,_dangerouslySetThumbnail:e,dismissButton:u,helperLink:_,primaryAction:p,text:n,thumbnail:x??c,type:m}),{marginTop:L,opacity:C,pointerEvents:O,position:R,transform:M,transition:F,visibility:N}=d({deviceType:k,hiding:A,visible:j});return(0,o.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:M,transition:F,visibility:N,pointerEvents:O}},"data-test-id":w??"toast",display:"flex",marginTop:L,onMouseEnter:T,onMouseLeave:z,opacity:C,position:R,children:y?(0,o.jsx)(a.Tg,{href:y,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{y.startsWith("#")&&(e.preventDefault(),t()),v?.(e)},rounding:"pill",target:b?"blank":null,children:E}):E})}},205841:(e,t,n)=>{n.d(t,{qE:()=>o,u_:()=>s.ZP});var i=n(883119),a=n(785893);let r=(e,t)=>!!(e?.includes("images/user/default")&&t);function l({accessibilityLabel:e,name:t,outline:n,size:l,src:o,verified:s}){return(0,a.jsx)(i.qE,{accessibilityLabel:e,name:t,outline:n,size:l,src:r(o,t)?void 0:o,verified:s})}l.displayName="Avatar";let o=l;var s=n(930837);n(454514)},86264:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(214877),a=n(340523),r=n(5859),l=n(344064),o=n(669177),s=n(286988),d=n(624797),p=n(953565);let u="http://play.google.com/store/apps/details?id=com.pinterest",_=["access_token","new_password","new_password_confirm","password","next"],c=(e,t)=>t?(0,d.ru)(e,{invite_code:t}):e,m=(e,t,n)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){let t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return("string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e)?c(e,n):"ios"===t||"ipad"===t?c(e.iOS,n):"android"===t?c(e.android,n):null},w=({deeplinkUri:e,invite_code:t,platform:n,fallbackUrl:i,unauthId:a,app_upsell_type:r})=>({deeplink_path:m(e,n,t),current_page_url:(0,d.Gw)("undefined"!=typeof window?window.location.href:"",_),install_id:a,utm_source:140,utm_medium:2152,app_upsell_type:r,...i?{af_r:i}:null}),f=({deeplinkUri:e,invite_code:t,platform:n,unauthId:i,app_upsell_type:a})=>{let r=JSON.stringify({deeplink_path:m(e,n,t),current_page_url:(0,d.Gw)("undefined"!=typeof window?window.location.href:"",_),install_id:i});return{referrer:(0,d.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:r,app_upsell_type:a})}},h=({unauthId:e,app_upsell_type:t})=>({referrer:encodeURI((0,d.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e,app_upsell_type:t}))}),y=({isAuthenticated:e,deeplinkUri:t,fallbackUrl:n,invite_code:i,logContextEvent:a,platform:r,redirectToLite:l,unauthId:o,userAgent:_,app_upsell_type:c})=>{if(a?.({component:14347,element:13582,event_type:701,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:c}}),t){let m=w({isAuthenticated:e,deeplinkUri:t,fallbackUrl:n,invite_code:i,platform:r,unauthId:o,userAgent:_,app_upsell_type:c});if((0,p.nP)("mweb.deeplink",{sampleRate:1,tags:{platform:r}}),i&&(0,p.nP)("mweb.deeplink.invite_code",{sampleRate:1}),(0,p.nP)("mweb.deeplink.unauthId",{sampleRate:1,tags:{withUnauthId:!!o}}),l){(0,p.nP)("mweb.deeplink.lite_link",{sampleRate:1}),a?.({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:c}});let e=h({unauthId:o,app_upsell_type:c});window.location.href=(0,d.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===r){let e=f({deeplinkUri:t,invite_code:i,platform:r,unauthId:o,app_upsell_type:c});(0,s.v)()?(0,s.Z)().then(t=>{if(t.length>0){let e=(0,d.ru)(window.location.href,m);a?.({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:c}}),window.open(e)||a?.({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:c}})}else a?.({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:c}}),window.location.href=(0,d.ru)(u,e)}).catch(()=>{(0,p.nP)("mweb_android.deeplink.playStore.error",{sampleRate:1})}):(a?.({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:c}}),window.location.href=(0,d.ru)(u,e))}else{if((0,p.nP)("mweb.deeplink.appsflyer_link",{sampleRate:1}),"ios"===r&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal")){window.location.href=(0,d.ru)("https://pinterest.com/pinterest-predicts",m);return}a?.({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:c}}),window.location.href=(0,d.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",m)}}};var v=n(785893);function b({children:e,invite_code:t}){let{isAuthenticated:n,isBot:l,unauthId:s,userAgent:{platform:d,raw:p}}=(0,r.B)(),{logContextEvent:u}=(0,i.v)(),{checkExperiment:_}=(0,a.F)();return e(async(e,i,a)=>{u({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:i}}),y({isAuthenticated:n,checkExperiment:_,deeplinkUri:e,fallbackUrl:a,invite_code:t,logContextEvent:u,platform:d,redirectToLite:(0,o.Rp)({isBot:l,platform:d,userAgent:p}),unauthId:s,userAgent:p,app_upsell_type:i})})}let g=e=>(0,v.jsx)(l.ty,{children:t=>(0,v.jsx)(b,{...e,invite_code:t})});g.displayName="DeepLinkNavigator";let x=g},490166:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(785893);function r({children:e,onMouseEnter:t,onMouseLeave:n,onTouch:r,rounding:l,fullWidth:o=!1,pressState:s="none",accessibilityLabel:d,role:p}){let u=(Array.isArray(s)?s:[s]).includes("compress");return(0,a.jsx)(i.iP,{accessibilityLabel:d,fullWidth:o,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:r&&(({event:e})=>r(e)),role:p,rounding:l,tapStyle:u?"compress":"none",children:e})}},766311:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(587703),r=n(217058);let l=e=>Object.keys(e).reduce((t,n)=>(void 0===e[n]&&delete t[n],t),{...e}),o=({viewType:e,viewParameter:t,viewData:n,auxData:i,objectIdStr:a,component:o,clientTrackingParams:s,element:d},p)=>{let u=l({event_type:13,view_type:e,view_parameter:t,view_data:n,aux_data:i,object_id_str:a,component:o,clientTrackingParams:s,element:d});-1===Object.keys(u).indexOf("view_type")&&(0,r.My)("mweb.logging.null_view_type"),p(u)};function s(e){let{auxData:t,clientTrackingParams:n,children:r,component:l,element:s,objectIdStr:d,viewData:p,viewParameter:u,viewType:_}=e,c=(0,a.Z)(),m=JSON.stringify(t),w=JSON.stringify(p);return(0,i.useEffect)(()=>{o(e,c)},[c,m,n,l,s,d,w,u,_]),i.Children.only(r)}},90647:(e,t,n)=>{n.d(t,{B:()=>w,Z:()=>f});var i=n(667294),a=n(616550),r=n(214877),l=n(525364),o=n(96157),s=n(5859),d=n(217058),p=n(623409),u=n(773616),_=n(86264),c=n(953565),m=n(785893);let w=(e,t)=>"/"===e.pathname?"/":(0,o.am)(e)&&t?`board/${e.pathname.substr(1)}`:e.pathname.substr(1);function f({children:e,componentType:t,app_upsell_type:n}){let o=(0,a.TH)(),{flushContextEvents:f,logContextEvent:h}=(0,r.v)(),{viewType:y,viewParameter:v}=(0,l.SU)(),b=(0,p.Z)(),{userAgent:{platform:g}}=(0,s.B)();(0,i.useEffect)(()=>{b({action:"view",item:"download-button",within:n})},[o,n,b]);let x=(0,i.useRef)(!1);(0,i.useEffect)(()=>{y&&202!==y?(h({component:t||13106,element:10308,event_type:9976,view_type:y,view_parameter:v,aux_data:{app_upsell_type:n,app_upsell_is_dupe:x.current}}),x.current=!0):(0,c.nP)("webapp.track_app_upsell_viewed_invalid_parameters",{sampleRate:1,tags:{component:t,view_type:y,view_parameter:v,app_upsell_type:n,app_upsell_is_dupe:x.current}})},[t,h,v,y,n]);let k=(0,u.Z)();return(0,i.useEffect)(()=>{k||(0,d.My)(`mweb.app_upsell.forbidden_upsell.${n}`)},[k,n]),(0,m.jsx)(_.Z,{children:i=>e({handleOpenApp:e=>{b({action:"click",item:"download-button",within:n}),(0,d.NC)("press_open_app",!0),h({component:t||13106,element:10308,event_type:102,view_type:y||202,view_parameter:v,aux_data:{app_upsell_type:n}}),h({component:t||13106,element:10308,event_type:9977,view_type:y||202,view_parameter:v,aux_data:{app_upsell_type:n}}),f(!0),i&&(h({component:t||13106,element:10308,event_type:1701,view_type:y||202,view_parameter:v,aux_data:{app_upsell_type:n}}),i(e?.deepLinkUri??w(o,"android"===g),n))}})})}},506449:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(339001);let a=({group:e,i18n:t,sender:n})=>{let a={description:"",heading:""};switch(e){case"enabled_1":a.heading=t._('Keep track of what inspires you', 'mweb.unauth.board_instagram_story_referred_upsell.heading1', 'description for referred app upsell'),a.description=t._('Sign up to save these ideas', 'mweb.unauth.board_instagram_story_referred_upsell.description1', 'description for referred app upsell');break;case"enabled_2":a.heading=t._('Feeling inspired?', 'mweb.unauth.board_instagram_story_referred_upsell.heading2', 'description for referred app upsell'),a.description=t._('Sign up to create your own board', 'mweb.unauth.board_instagram_story_referred_upsell.description2', 'description for referred app upsell');break;case"enabled_3":a.heading=t._('Loving these ideas?', 'mweb.unauth.board_instagram_story_referred_upsell.heading3', 'description for referred app upsell'),a.description=(0,i.nk)(t._('Sign up to follow {{sender}} for more inspiration', 'mweb.unauth.board_instagram_story_referred_upsell.description3', 'description for referred app upsell which has a reference to the sender.  sender: full name or username'),{sender:n})}return a}},340249:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(616550),r=n(96157),l=n(757640),o=n(344064);let s=e=>{let t=(0,o.vE)(),n=(0,a.TH)(),[s]=(0,i.useState)(n),d=n.pathname===s.pathname&&n.search===s.search&&(0,r.Fw)(n)||null,[p,u]=(0,i.useState)(null),{isLoaded:_,data:c}=(0,l.Z)(!e&&t&&d?{name:"InviteCodeMetadataResource",options:{invite_code:t}}:null);return(0,i.useEffect)(()=>{_&&c&&u(c??null)},[_,c]),t&&d?{invite:p,pageType:d}:null}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/16627-7928f6bbca55a5c9.mjs.map